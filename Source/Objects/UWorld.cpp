///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Objects/UWorld.hpp"

///////////////////////////////////////////////////////////////////////////////
// Namespace UEB
///////////////////////////////////////////////////////////////////////////////
namespace UEB
{

///////////////////////////////////////////////////////////////////////////////
void UWorld::AddObject(TSharedPtr<AActor> object)
{
    mObjects.push_back(object);
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::BeginPlay(void)
{
    for (auto& object : mObjects) {
        if (object->IsActive()) {
            object->BeginPlay();
        }
    }
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::Tick(float deltaSeconds)
{
    for (auto& object : mObjects) {
        if (object->IsActive()) {
            object->Tick(deltaSeconds);
        }
    }
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::EndPlay(void)
{
    for (auto& object : mObjects) {
        if (object->IsActive()) {
            object->EndPlay();
        }
    }
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::KeyPressed(sf::Keyboard::Key key)
{
    for (auto& object : mObjects) {
        if (object->IsActive()) {
            object->KeyPressed(key);
        }
    }
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::KeyReleased(sf::Keyboard::Key key)
{
    for (auto& object : mObjects) {
        if (object->IsActive()) {
            object->KeyReleased(key);
        }
    }
}

///////////////////////////////////////////////////////////////////////////////
void UWorld::Render(sf::RenderTarget& target) const
{
    for (const auto& object : mObjects) {
        if (object->IsActive()) {
            object->Render(target);
        }
    }
}

} // !namespace UEB
